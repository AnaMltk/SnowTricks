{% extends 'base.html.twig' %}

{% block title %}Hello FigureController!
{% endblock %}

{% block body %}
	<style>
		.example-wrapper {
			margin: 1em auto;
			max-width: 800px;
			width: 95%;
			font: 18px / 1.5 sans-serif;
		}
		.example-wrapper code {
			background: #F5F5F5;
			padding: 2px 6px;
		}
	</style>

	<div class="example-wrapper">
		<h1>Page d'accueil</h1>
		<div id="figures">
			{{ include ("figure/figures.html.twig") }}
		</div>
	</div>

	<button type="button" class="btn btn-primary" id="loadMore">Voir plus</button>

{% endblock %}

{% block javascripts %}

	{{ parent() }}
	<script language="javascript">
		$(document).ready(function () {
var offset = {{ maxFigures }};
$('#loadMore').click(function () {

$.ajax({
url: '{{ path('loadMore') }}' + '/' + offset,
method: "GET"
}).success(function (data) {
$('#figures').append(data);
offset += {{ maxFigures }};
if (offset >= {{ figureCount }}) {
$('#figures').append('No more content');
$('#loadMore').hide();
}
})
});

});
	</script>
{% endblock %}
